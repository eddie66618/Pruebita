(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ade7c46e"],{"0798":function(t,e,s){"use strict";var o=s("5530"),a=s("ade3"),i=(s("caad"),s("0c18"),s("10d2")),n=s("afdd"),r=s("9d26"),c=s("f2e7"),l=s("7560"),u=s("f40d"),d=s("58df"),p=s("d9bd");e["a"]=Object(d["a"])(i["a"],c["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(a["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(n["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(r["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(r["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(o["a"])(Object(o["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||l["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(p["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,s){},"2aa1":function(t,e,s){t.exports=s.p+"img/logo_cnsr.f98fe9a6.png"},4401:function(t,e,s){t.exports=s.p+"img/wave1.c167b647.png"},"5ced":function(t,e,s){},"9d68":function(t,e,s){t.exports=s.p+"img/rinon4.e1ea0e0d.png"},afdd:function(t,e,s){"use strict";var o=s("8336");e["a"]=o["a"]},bb51:function(t,e,s){"use strict";s.r(e),s.d(e,"RUTA_SERVIDOR",(function(){return c})),s.d(e,"USUARIO",(function(){return l})),s.d(e,"PASSWORD",(function(){return u})),s.d(e,"RUTA_API",(function(){return d}));var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{attrs:{id:"Animated-Login-Form"}},[o("img",{staticClass:"wave",attrs:{src:s("4401")}}),o("div",{staticClass:"containerW"},[t._m(0),o("div",{staticClass:"login-content"},[o("div",[o("img",{attrs:{src:s("2aa1")}}),o("h2",{staticClass:"titleW"},[t._v("Bienvenido")]),o("div",{staticClass:"input-div one"},[t._m(1),o("div",{staticClass:"div"},[o("h5",[t._v("Usuario")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario,expression:"usuario"}],staticClass:"input",attrs:{type:"text",id:"input-user"},domProps:{value:t.usuario},on:{input:function(e){e.target.composing||(t.usuario=e.target.value)}}})])]),o("div",{staticClass:"input-div passW"},[t._m(2),o("div",{staticClass:"div"},[o("h5",[t._v("Contraseña")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.contra,expression:"contra"}],staticClass:"input",attrs:{type:"password"},domProps:{value:t.contra},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.iniciarSesion.apply(null,arguments)},input:function(e){e.target.composing||(t.contra=e.target.value)}}})])]),o("button",{staticClass:"btn",on:{click:t.iniciarSesion}},[t._v("Iniciar sesión")]),o("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",{attrs:{color:"primary",dark:""}},[o("v-card-text",[t._v(" Cargando Datos "),o("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),o("v-alert",{attrs:{dense:"",outlined:"",text:"",value:t.value,type:"error"}},[t._v(" Datos incorrectos. Intentelo de nuevo. ")])],1)])])])},a=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"img"},[o("img",{attrs:{src:s("9d68"),alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"i"},[s("i",{staticClass:"fas fa-user"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"i"},[s("i",{staticClass:"fas fa-user"})])}],i=s("ade3"),n=(s("159b"),s("bc3a")),r=s.n(n),c="http://10.0.54.88:99",l="cnsr",u="123456",d="https://appsqa.essalud.gob.pe/hisar-service",p={data:function(){return{dialog:!1,valid:!1,usuario:"",contra:"",value:!1,nameRules:[function(t){return!!t||"*Campo obligatorio"},function(t){return t.length<=15||"*Maximo 15 caracteres"}]}},methods:Object(i["a"])({addcl:function(t){var e=t.parentNode.parentNode;e.classList.add("focus")},remcl:function(t){var e=t.parentNode.parentNode;""==t.value&&e.classList.remove("focus")},onSuccess:function(t){console.log(t),console.log(t.getBasicProfile())},onSignIn:function(t){var e=t.getBasicProfile();console.log("ID: "+e.getId()),console.log("Name: "+e.getName()),console.log("Image URL: "+e.getImageUrl()),console.log("Email: "+e.getEmail())},iniciarSesion:function(){var t=this;this.dialog=!0,r.a.post(d+"/api/token/",{username:l,password:u}).then((function(e){t.auth="Bearer "+e.data.access,r.a.get(d+"/usuario/?search="+t.usuario,{headers:{Authorization:t.auth}}).then((function(s){sessionStorage.setItem("keyValue",e.data.access),sessionStorage.setItem("dniUsuario",s.data[0].num_doc),sessionStorage.setItem("usuario",s.data[0].usuario),sessionStorage.setItem("nombre",s.data[0].nombre),sessionStorage.setItem("perfil",s.data[0].perfil),sessionStorage.setItem("url",s.data[0].url),sessionStorage.setItem("descripCas",s.data[0].datosCas.descripCas),sessionStorage.setItem("urlCas",s.data[0].datosCas.url),s.data[0].clave==t.contra?(console.log("Ingreso exitoso"),"86"==s.data[0].perfil?t.$router.push("/censo"):t.$router.push("/go"),t.dialog=!1):(t.value=!0,t.dialog=!1)})).catch((function(e){console.log("ERROR:",e),t.value=!0,t.dialog=!1}))})).catch((function(t){404===t?console.warn("Lo siento, no tenemos servicios"):console.warn("Error: ",t)}))},ingresar:function(){var t=this;this.value=!1,r.a.post(d+"/api/token/",{username:l,password:u}).then((function(e){t.auth="Bearer "+e.data.access,r.a.get(d+"/usuario/?search="+t.usuario,{headers:{Authorization:t.auth}}).then((function(s){sessionStorage.setItem("keyValue",e.data.access),sessionStorage.setItem("dniUsuario",s.data[0].num_doc),sessionStorage.setItem("usuario",s.data[0].usuario),sessionStorage.setItem("nombre",s.data[0].nombre),sessionStorage.setItem("perfil",s.data[0].perfil),sessionStorage.setItem("url",s.data[0].url),sessionStorage.setItem("descripCas",s.data[0].datosCas.descripCas),sessionStorage.setItem("urlCas",s.data[0].datosCas.url),s.data[0].clave==t.contra&&"principal"!=s.data[0].perfil?(console.log("Ingreso exitoso"),t.$router.push("/tramites")):s.data[0].clave==t.contra&&"principal"==s.data[0].perfil?(console.log("Ingreso principal"),t.$router.push("/principaldsi")):t.value=!0})).catch((function(e){console.warn("Erroress  :",e),t.value=!0}))})).catch((function(e){404===e?console.warn("Lo siento, no tenemos servicios"):console.warn("Error: ",e),t.value=!0}))},actualizar:function(){this.value=!1}},"onSignIn",(function(t){t.getBasicProfile()})),mounted:function(){var t=this.$el.querySelectorAll(".input");t.forEach((function(t){t.addEventListener("focus",(function(){var e=t.parentNode.parentNode;e.classList.add("focus")})),t.addEventListener("blur",(function(){var e=t.parentNode.parentNode;""==t.value&&e.classList.remove("focus")}))}))},created:function(){console.log("estoy iniciando")}},h=p,v=(s("cccb"),s("2877")),f=s("6544"),g=s.n(f),m=s("0798"),C=s("b0af"),b=s("99d9"),_=s("169a"),I=s("8e36"),S=Object(v["a"])(h,o,a,!1,null,null,null);e["default"]=S.exports;g()(S,{VAlert:m["a"],VCard:C["a"],VCardText:b["c"],VDialog:_["a"],VProgressLinear:I["a"]})},cccb:function(t,e,s){"use strict";s("5ced")},f40d:function(t,e,s){"use strict";var o=s("2b0e");e["a"]=o["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})}}]);
//# sourceMappingURL=chunk-ade7c46e.096bd61c.js.map